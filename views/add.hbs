<!DOCTYPE html>

{{> head}}

<body>
    {{> header}}
    {{> navbar}}
    <div class="card border-primary">
        <h5 class="card-header text-center">Add Patient</h5>
        <div class="card card-body w-90 border-primary">


            <form action="/patients" method="post" class="form-row">
                <div class="form-row">
                    <div class="form-group col-md-3 ">
                        <label for="first_name">First Name</label>
                        <input type="text" class="form-control" name="first_name" placeholder="first name" value=""
                            autofocus required>

                    </div>
                    <div class="form-group col-md-3 ">
                        <label for="middle_name">Middle Name</label>
                        <input type="text" class="form-control" name="middle_name" placeholder="middle name" value="">
                    </div>
                    <div class="form-group col-md-3 ">
                        <label for="last_name">Last Name</label>
                        <input type="text" class="form-control" name="last_name" placeholder="last name" required value="">
                    </div>
                    {{!-- <div class="form-group col-md-2 ">
                        <img src="" alt="200x200 Picture" class="img-thumbnail">
                    </div> --}}

                    <div class="form-check form-check-inline col-xs-2 ">
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="sex" id="male" value="male" >
                            <label class="form-check-label" for="male">
                                Male
                            </label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="radio" name="sex" id="female" value="female" checked>
                            <label class="form-check-label" for="female">
                                Female
                            </label>
                        </div>
                    </div>
                    <div class="form-group col-md-3 ">
                        <label for="last_name">Age</label>
                        <input type="text" id="age" class="form-control" name="age" placeholder="age" value="">
                    </div>
                    <div class="form-group col-md-2 ">
                    <label for="dob">Last Visit</label>
                    <input id="last_visit" type="text" class="form-control" name="last_visit" placeholder="MM/DD/YY">
                </div>
                </div>
        </div>
        <div class="card card-body border-primary">

            {{!-- end of form row --}}
            <div class="form-row">
                <div class="form-group col-md-6 ">
                    <label for="address">Address</label>
                    <input type="text" class="form-control" id="address" name="address" placeholder="address">
                </div>
                <div class="form-group col-md-2 ">
                    <label for="purok">Purok</label>
                    <input type="text" class="form-control" id="purok" name="purok" placeholder="purok">
                </div>
                <div class="form-group col-md-4">
                    <label for="city">City</label>
                    <input type="text" class="form-control" id="city" name="city" list="cities" placeholder="city">
                    <datalist id="cities">
                        <option> General Luna</option>
                        <option> Dapa</option>
                        <option> Pilar</option>
                        <option>Santa Monica</option>
                        <option>Del Carmen</option> 
                        <option>San Isidro</option> 
                        <option>Pacifico</option> 
                        <option>Burgos</option> 
                        <option>Soccorro</option> 
                        <option>San Benito</option> 
                        <option>Alegria</option> 
                    </datalist>
                </div>

                </div>
            </div>
            {{!-- end of form row --}}
            <div class="form-row">
                <div class="form-group col-md-4 ">
                    <label for="province">Province</label>
                    <input type="text" id="province" class="form-control" name="province" list="provinces" >
                    <datalist id="provinces">
                        <option> Surigao del Norte</option>
                        <option> Dinagat</option>
                        <option> Agusan</option>
                        <option>Bohol</option>
                        <option>Surigao del Sur</option> 
                    </datalist>
                </div>

                <div class="form-group col-md-4 ">
                    <label for="phone1">Phone</label>
                    <input type="text" class="form-control" name="phone1" size="15" placeholder="enter phone number"
                        value="{{patient.phone1}}">
                </div>
            </div>
        </div>
        <div class="card card-body border-primary">
            <div class="form-row">
                <div class="form-group col-md-4 ">
                    <label for="dob">Date of Birth</label>
                    <input id="dob" type="text" class="form-control" name="dob" size="15" placeholder="MM/DD/YY">
                </div>
                <div class="form-group col-md-2">
                    <label for=" blood_type">Blood Type</label>
                    <select id="blood_type" class="form-control" name="blood_type" default="unkown">
                        <option>unknown</option>
                        <option>O-</option>
                        <option> O+</option>
                        <option> A-</option>
                        <option> A+</option>
                        <option> B-</option>
                        <option> B+</option>
                        <option> AB-</option>
                        <option> AB+</option>
                    </select>
                </div>

                
                <div class="form-group col-md4 ">
                    <label for="phil_health">PhilHelath #</label>
                    <input type="text" class="form-control" name="phil_health" placeholder="PhilHealth">
                </div>

            </div>
            {{!-- end of form row --}}
            <div class="card card-body border-primary">
                <div class="form-row">
                    <div class="form-group col-md-4">
                        <label for="allergies">Allergies</label>
                        <input type="text" class="form-control" name="allergies" placeholder="seperate with comma">
                    </div>
                    <div class="form-group col-md-4">
                        <label for="medications">Medications</label>
                        <input type="text" class="form-control" name="medications" placeholder="seperate with comma">
                    </div>
                    <div class="form-group col-md-2">
                        <label for="height">Height</label>
                        <input type="text" class="form-control" name="height" placeholder="in cm">
                    </div>
                    <div class="form-group col-md-2">
                        <label for="weight">Weight (kg)</label>
                        <input type="text" class="form-control" name="weight" placeholder="kg">
                    </div>
                    <div class="form-group col-md-3">
                        <label for="blood_pressure">Blood Pressure (sys/dia)</label>
                        <input type="text" class="form-control" name="blood_pressure" placeholder="">
                    </div>
                    <div class="form-group col-md-2">
                        <label for="pulse">Pulse (bpm)</label>
                        <input type="text" class="form-control" name="pulse" placeholder="">
                    </div>
                    <div class="form-group col-md-2">
                        <label for="temp">Temperature (C)</label>
                        <input type="text" class="form-control" name="temp" placeholder="">
                    </div>
                </div>
            </div>

            <button type="submit" class="btn btn-primary">Submit</button>
            </form>

        </div>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                document.querySelector('#last_visit').onchange = changeEventHandler;
            }, false);

            function changeEventHandler(event) {
                var d = new Date(event.target.value);
                var age = document.getElementById('age').value;
                d.setMonth(d.getMonth() - (age * 12));
                d.setDate(1);
                d.setMonth(1);
                const x = document.getElementById('dob');
                x.value = d.toDateString().split(' ').slice(1).join(' ');
            }
        </script>

</body>

</html>